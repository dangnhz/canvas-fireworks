var L=Object.defineProperty;var P=(t,e,r)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var i=(t,e,r)=>(P(t,typeof e!="symbol"?e+"":e,r),r);const S=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}};S();var v="/canvas-fireworks/assets/burst1.4e7b4737.mp3",k="/canvas-fireworks/assets/lift1.751ac519.mp3",Y="/canvas-fireworks/assets/lift2.040c6375.mp3",z="/canvas-fireworks/assets/lift3.6ebed2d1.mp3";const X=new Audio(v),E=new Audio(v),I=new Audio(k),R=new Audio(Y),q=new Audio(z),A=[I,R,q],$=[X,E];function y(t){t.paused?t.play():t.currentTime=0}class N{play(e){e=="lift"&&y(A[h(0,2)]),e=="burst"&&y($[h(0,1)])}}const d=document.querySelector(".sound-on"),u=document.querySelector(".sound-off"),p=document.querySelector(".sound-control");let g=!1;p==null||p.addEventListener("click",()=>{g?(d==null||d.classList.remove("active"),u==null||u.classList.add("active"),g=!1):(d==null||d.classList.add("active"),u==null||u.classList.remove("active"),g=!0)});const M=new N,o=document.querySelector("#canvas"),a=o.getContext("2d");let l=[],f=[];o.width=window.innerWidth;o.height=window.innerHeight;window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight});function h(t,e){return Math.floor(Math.random()*(t-e)+e)}function C(t,e){return Math.random()*(t-e)+e}const w=[330,353,18,182,13,346,327,229,1,275,232,7];class F{constructor(e,r,c,s){i(this,"x");i(this,"y");i(this,"speed",Math.cos(Math.random()*Math.PI/2)*5);i(this,"size",Math.random()*(6-2)+2);i(this,"angle",Math.random()*Math.PI*2);i(this,"vx",Math.cos(this.angle)*this.speed);i(this,"vy",Math.sin(this.angle)*this.speed);i(this,"gravity",.05);i(this,"resistance",.998);i(this,"shrink",C(.05,.15));i(this,"color");i(this,"rainbowColor");i(this,"isRainbow");this.x=e,this.y=r,this.isRainbow=s,this.color=`hsla(${c}, 100%, ${h(40,100)}%, 1)`,this.rainbowColor=`hsla(${w[h(0,w.length-1)]}, ${h(80,100)}%, ${h(10,90)}%, 1)`}update(){this.vx*=this.resistance,this.vy*=this.resistance,this.vy+=this.gravity,this.x+=this.vx,this.y+=this.vy,this.size>.2&&(this.size-=this.shrink)}draw(){a.beginPath(),a.fillStyle=this.isRainbow?this.rainbowColor:this.color,a.arc(this.x,this.y,this.size,0,Math.PI*2),a.fill()}}class B{constructor(e,r,c,s,n){i(this,"x",o.width/2);i(this,"y",o.height);i(this,"size",2.5);i(this,"color");i(this,"targetX");i(this,"targetY");i(this,"velX");i(this,"velY");i(this,"angle");i(this,"isExploded",!1);i(this,"hue");i(this,"isRainbow");this.color=c,this.targetX=e,this.targetY=r,this.angle=Math.atan2(this.targetX-o.width/2,this.targetY-o.height),this.velX=Math.sin(this.angle),this.velY=Math.cos(this.angle),this.hue=s,this.isRainbow=n}update(){this.x+=this.velX*12,this.y+=this.velY*12,this.y<=this.targetY+5&&this.explode()}draw(){a.beginPath(),a.fillStyle=this.color,a.arc(this.x,this.y,this.size,0,Math.PI*2),a.fill()}explode(){let e=Math.random()*(300-150)+150;for(let r=1;r<e;r++)f.push(new F(this.targetX+Math.random()*5,this.targetY,this.hue,this.isRainbow));g&&M.play("burst"),this.isExploded=!0}}function H(){for(let t=0;t<f.length;t++)f[t].draw(),f[t].update(),f[t].size<=.2&&(f.splice(t,1),t--)}function x(){if(a.fillStyle="hsla(0, 0%, 0% ,0.2)",a.fillRect(0,0,o.width,o.height),(l==null?void 0:l.length)>0)for(let t=0;t<l.length;t++)l[t].update(),l[t].draw(),l[t].isExploded&&(l.splice(t,1),t--);H(),requestAnimationFrame(x)}function W(){o.addEventListener("click",t=>{b(t.clientX,t.clientY)})}function b(t,e){let r=w[h(0,w.length-1)],c=`hsla(${r}, 100%, 50%, 1)`;l.push(new B(t,e,c,r,!(Math.random()<.5))),g&&M.play("lift")}setInterval(()=>b(h(o.width/2-100,o.width/2+100),h(100,o.height/3)),3e3);W();x();
